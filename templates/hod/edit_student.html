{% extends 'base.html' %}
{% block content %}

<div class="row">
   <div class="col-lg-12">
      <div class="card">
         <div class="card-header">
            <h5 class="card-title">Edit Student Details</h5>
         </div>
         {% include 'includes/message.html' %}
         <div class="card-body">
            <form method="post" action="{% url 'update_student' %}" enctype="multipart/form-data">
               {% csrf_token %}
               <div class="form-group row">
                  <input type="text" class="form-control form-control-lg" name="student_id" value="{% for i in student %}{{i.admin.id}}{% endfor %}" hidden>
                  <label class="col-form-label col-md-2">First Name</label>
                  <div class="col-md-4">
                     <input type="text" class="form-control form-control-lg" name="first_name" value="{% for i in student %}{{i.admin.first_name}}{% endfor %}">
                  </div>
                  <label class="col-form-label col-md-2">Last Name</label>
                  <div class="col-md-4">
                     <input type="text" class="form-control form-control-lg" name="last_name" value="{% for i in student %}{{i.admin.last_name}}{% endfor %}">
                  </div>
               </div>
               <div class="form-group row">
                  <label class="col-form-label col-md-2">Select Gender</label>
                  <div class="col-md-4">
                     <select class="form-control form-control-lg select" name="gender">
                        {% for i in student %}<option value="{{i.gender}}">{{i.gender}}</option>{% endfor %}
                        <option value="Female">Female</option>
                        <option value="Male">Male</option>
                        <option value="Others">Others</option>
                     </select>
                  </div>
                  <label class="col-form-label col-md-2">Date of Birth</label>
                  <div class="col-md-4">
                     <input type="date" class="form-control form-control-lg datetimepicker" name="dob" value="{% for i in student %}{{i.dob}}{% endfor %}">
                  </div>
               </div>
               <div class="form-group row">
                  <label class="col-form-label col-md-2">Department</label>
                  <div class="col-md-4">
                     <select class="form-control form-control-lg select" name="department_id">
                        {% for i in student %}<option value="{{i.department_id.id}}">{{i.department_id.name}}</option>{% endfor %}
                        {% for i in department %}
                        <option value="{{i.id}}">{{i.name}}</option>
                        {% endfor %}
                     </select>
                  </div>
                  <label class="col-form-label col-md-2">Academic Year</label>
                  <div class="col-md-4">
                     <select class="form-control form-control-lg select" name="academic_year_id">
                        {% for i in student %}<option value="{{i.academic_year_id.id}}">{{i.academic_year_id.academic_start}} to {{i.academic_year_id.academic_end}}</option>{% endfor %}
                        {% for i in academic_year %}
                        <option value="{{i.id}}">{{i.academic_start}} to {{i.academic_end}}</option>
                        {% endfor %}
                     </select>
                  </div>
               </div>
               <div class="form-group row">
                  <label class="col-form-label col-md-2">Email-Id</label>
                  <div class="col-md-10">
                     <input type="text" class="form-control form-control-lg" name="email" value="{% for i in student %}{{i.admin.email}}{% endfor %}">
                  </div>
               </div>
               <div class="form-group row">
                  <label class="col-form-label col-md-2">Username</label>
                  <div class="col-md-10">
                     <input type="text" class="form-control form-control-lg" name="username" value="{% for i in student %}{{i.admin.username}}{% endfor %}">
                  </div>
               </div>
               <div class="form-group row">
                  <label class="col-form-label col-md-2">Password</label>
                  <div class="col-md-10">
                     <input type="password" class="form-control form-control-lg" name="password"  placeholder="Fill only if you want to update password.">
                  </div>
               </div>
               <div class="form-group row">
                  <label class="col-form-label col-md-2">Address</label>
                  <div class="col-md-10">
                     <textarea class="form-control form-control-lg" name="address">{% for i in student %}{{i.address}}{% endfor %}</textarea>
                  </div>
               </div>
               <div class="form-group row">
                  <label class="col-form-label col-md-2">Upload Student Image</label>
                  <div class="col-md-10">
                     <input type="file" class="form-control form-control-lg" name="profile_pic">
                  </div>
               </div>
               <div class="col-12">
                  <button type="submit" class="btn btn-primary">Update Student</button>
               </div>
            </form>
         </div>
      </div>
   </div>
</div>

{% endblock %}